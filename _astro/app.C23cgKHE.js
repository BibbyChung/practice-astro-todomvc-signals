import{S as J,i as W,s as G,e as b,a as F,c as g,b as T,g as ee,d as y,f as v,h as m,j as V,k as u,l as M,p as U,n as N,o as te,m as ne,t as j,q as z,r as ge,u as ve,v as K,w as he,x as Q,y as X,z as Y,A as x,B as Ce,C as Ee,D as H,E as Z,F as Te}from"./index.BwPZOEgT.js";import{g as P}from"./util.DiFbyzn0.js";import{t as q,a as Ae,g as le,b as Se,c as Ie,s as $e,r as we,u as Be,d as Le,f as Oe}from"./todolist.service.CVNNEx_i.js";import{m as se}from"./map.BOKCRUkl.js";import{f as ke}from"./filter.BfNzDnkM.js";import"./innerFrom.-_aNtNEc.js";function Fe(o){let e,t,l="todos",s,r,n,c,i;return{c(){e=b("header"),t=b("h1"),t.textContent=l,s=F(),r=b("form"),n=b("input"),this.h()},l($){e=g($,"HEADER",{class:!0});var f=T(e);t=g(f,"H1",{"data-svelte-h":!0}),ee(t)!=="svelte-1lsgzbp"&&(t.textContent=l),s=y(f),r=g(f,"FORM",{});var _=T(r);n=g(_,"INPUT",{class:!0,placeholder:!0}),_.forEach(v),f.forEach(v),this.h()},h(){m(n,"class","new-todo"),m(n,"placeholder","What needs to be done?"),n.autofocus=!0,m(e,"class","header")},m($,f){V($,e,f),u(e,t),u(e,s),u(e,r),u(r,n),o[2](n),n.focus(),c||(i=M(r,"submit",U(o[3])),c=!0)},p:N,i:N,o:N,d($){$&&v(e),o[2](null),c=!1,i()}}}function ye(o,e,t){let l;const s=P(),r=s.pipe(q(()=>{const i=l?.value??"";i!==""&&(Ae(i??""),t(0,l.value="",l))})).subscribe();te(()=>()=>{r.unsubscribe()});function n(i){ne[i?"unshift":"push"](()=>{l=i,t(0,l)})}return[l,s,n,()=>s.next(!0)]}class Ne extends J{constructor(e){super(),W(this,e,ye,Fe,G,{})}}function me(o){let e,t="Clear completed",l,s;return{c(){e=b("button"),e.textContent=t,this.h()},l(r){e=g(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-a8or5z"&&(e.textContent=t),this.h()},h(){m(e,"class","clear-completed")},m(r,n){V(r,e,n),l||(s=M(e,"click",U(o[11])),l=!0)},p:N,d(r){r&&v(e),l=!1,s()}}}function Me(o){let e,t,l=o[0]===1?"1 uncompleted item left":`${o[0]} uncompleted items left`,s,r,n,c,i,$,f,_,p,C,E,S,A,a,w,d,k,h,O,R,oe,I=o[2]&&me(o);return{c(){e=b("footer"),t=b("span"),s=j(l),r=F(),n=b("ul"),c=b("li"),i=b("a"),$=j("All"),_=F(),p=b("li"),C=b("a"),E=j("Active"),A=F(),a=b("li"),w=b("a"),d=j("Completed"),h=F(),O=b("div"),I&&I.c(),this.h()},l(B){e=g(B,"FOOTER",{class:!0});var L=T(e);t=g(L,"SPAN",{class:!0});var re=T(t);s=z(re,l),re.forEach(v),r=y(L),n=g(L,"UL",{class:!0});var D=T(n);c=g(D,"LI",{});var ae=T(c);i=g(ae,"A",{href:!0,class:!0});var ce=T(i);$=z(ce,"All"),ce.forEach(v),ae.forEach(v),_=y(D),p=g(D,"LI",{});var ie=T(p);C=g(ie,"A",{href:!0,class:!0});var ue=T(C);E=z(ue,"Active"),ue.forEach(v),ie.forEach(v),A=y(D),a=g(D,"LI",{});var fe=T(a);w=g(fe,"A",{href:!0,class:!0});var de=T(w);d=z(de,"Completed"),de.forEach(v),fe.forEach(v),D.forEach(v),h=y(L),O=g(L,"DIV",{});var pe=T(O);I&&I.l(pe),pe.forEach(v),L.forEach(v),this.h()},h(){m(t,"class","todo-count"),m(i,"href","#/"),m(i,"class",f=o[1]==="all"?"selected":""),m(C,"href","#/"),m(C,"class",S=o[1]==="active"?"selected":""),m(w,"href","#/"),m(w,"class",k=o[1]==="completed"?"selected":""),m(n,"class","filters"),m(e,"class","footer")},m(B,L){V(B,e,L),u(e,t),u(t,s),u(e,r),u(e,n),u(n,c),u(c,i),u(i,$),u(n,_),u(n,p),u(p,C),u(C,E),u(n,A),u(n,a),u(a,w),u(w,d),u(e,h),u(e,O),I&&I.m(O,null),R||(oe=[M(i,"click",U(o[8])),M(C,"click",U(o[9])),M(w,"click",U(o[10]))],R=!0)},p(B,[L]){L&1&&l!==(l=B[0]===1?"1 uncompleted item left":`${B[0]} uncompleted items left`)&&ge(s,l),L&2&&f!==(f=B[1]==="all"?"selected":"")&&m(i,"class",f),L&2&&S!==(S=B[1]==="active"?"selected":"")&&m(C,"class",S),L&2&&k!==(k=B[1]==="completed"?"selected":"")&&m(w,"class",k),B[2]?I?I.p(B,L):(I=me(B),I.c(),I.m(O,null)):I&&(I.d(1),I=null)},i:N,o:N,d(B){B&&v(e),I&&I.d(),R=!1,ve(oe)}}}function Ue(o,e,t){let l,s,r;const n=P(),c=P(),i=le().pipe(se(a=>a.filter(d=>d.completed).length!==0));K(o,i,a=>t(2,r=a));const $=le().pipe(se(a=>a.filter(w=>!w.completed).length));K(o,$,a=>t(0,l=a));const f=Se();K(o,f,a=>t(1,s=a));const _=c.pipe(q(a=>Ie(a))).subscribe(),p=n.pipe($e(()=>we())).subscribe();return te(()=>()=>{p.unsubscribe(),_.unsubscribe()}),[l,s,r,n,c,i,$,f,()=>c.next("all"),()=>c.next("active"),()=>c.next("completed"),()=>n.next(!0)]}class Re extends J{constructor(e){super(),W(this,e,Ue,Me,G,{})}}function xe(o){let e,t,l,s,r,n,c=o[0].title+"",i,$,f,_,p,C;return{c(){e=b("li"),t=b("div"),l=b("input"),r=F(),n=b("label"),i=j(c),$=F(),f=b("button"),this.h()},l(E){e=g(E,"LI",{class:!0});var S=T(e);t=g(S,"DIV",{class:!0});var A=T(t);l=g(A,"INPUT",{class:!0,type:!0}),r=y(A),n=g(A,"LABEL",{});var a=T(n);i=z(a,c),a.forEach(v),$=y(A),f=g(A,"BUTTON",{class:!0}),T(f).forEach(v),A.forEach(v),S.forEach(v),this.h()},h(){m(l,"class","toggle"),m(l,"type","checkbox"),l.checked=s=o[0].completed,m(f,"class","destroy"),m(t,"class","view"),m(e,"class",_=o[0].completed?"completed":"")},m(E,S){V(E,e,S),u(e,t),u(t,l),o[5](l),u(t,r),u(t,n),u(n,i),u(t,$),u(t,f),p||(C=[M(l,"change",U(o[4])),M(f,"click",U(o[6]))],p=!0)},p(E,[S]){S&1&&s!==(s=E[0].completed)&&(l.checked=s),S&1&&c!==(c=E[0].title+"")&&ge(i,c),S&1&&_!==(_=E[0].completed?"completed":"")&&m(e,"class",_)},i:N,o:N,d(E){E&&v(e),o[5](null),p=!1,ve(C)}}}function De(o,e,t){let{params:l}=e,s;const r=P(),n=P(),c=r.pipe(ke(()=>!!s),q(()=>{const p=JSON.parse(JSON.stringify(l));p.completed=s.checked,Be(p)})).subscribe(),i=n.pipe(q(()=>Le(l.id))).subscribe();te(()=>()=>{c.unsubscribe(),i.unsubscribe()});const $=()=>r.next(!0);function f(p){ne[p?"unshift":"push"](()=>{s=p,t(1,s)})}const _=()=>n.next(!0);return o.$$set=p=>{"params"in p&&t(0,l=p.params)},[l,s,r,n,$,f,_]}class He extends J{constructor(e){super(),W(this,e,De,xe,G,{params:0})}}function _e(o,e,t){const l=o.slice();return l[8]=e[t],l}function be(o){let e,t;return e=new He({props:{params:o[8]}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,s){Y(e,l,s),t=!0},p(l,s){const r={};s&2&&(r.params=l[8]),e.$set(r)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Pe(o){let e,t,l,s,r,n,c,i="Mark all as complete",$,f,_,p,C,E,S;t=new Ne({});let A=he(o[1]),a=[];for(let d=0;d<A.length;d+=1)a[d]=be(_e(o,A,d));const w=d=>H(a[d],1,1,()=>{a[d]=null});return p=new Re({}),{c(){e=b("section"),Q(t.$$.fragment),l=F(),s=b("section"),r=b("input"),n=F(),c=b("label"),c.textContent=i,$=F(),f=b("ul");for(let d=0;d<a.length;d+=1)a[d].c();_=F(),Q(p.$$.fragment),this.h()},l(d){e=g(d,"SECTION",{class:!0});var k=T(e);X(t.$$.fragment,k),l=y(k),s=g(k,"SECTION",{class:!0});var h=T(s);r=g(h,"INPUT",{id:!0,class:!0,type:!0}),n=y(h),c=g(h,"LABEL",{for:!0,"data-svelte-h":!0}),ee(c)!=="svelte-aniuop"&&(c.textContent=i),$=y(h),f=g(h,"UL",{class:!0});var O=T(f);for(let R=0;R<a.length;R+=1)a[R].l(O);O.forEach(v),h.forEach(v),_=y(k),X(p.$$.fragment,k),k.forEach(v),this.h()},h(){m(r,"id","toggle-all"),m(r,"class","toggle-all"),m(r,"type","checkbox"),m(c,"for","toggle-all"),m(f,"class","todo-list"),m(s,"class","main"),m(e,"class","todoapp")},m(d,k){V(d,e,k),Y(t,e,null),u(e,l),u(e,s),u(s,r),o[5](r),u(s,n),u(s,c),u(s,$),u(s,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(f,null);u(e,_),Y(p,e,null),C=!0,E||(S=M(r,"change",U(o[4])),E=!0)},p(d,[k]){if(k&2){A=he(d[1]);let h;for(h=0;h<A.length;h+=1){const O=_e(d,A,h);a[h]?(a[h].p(O,k),x(a[h],1)):(a[h]=be(O),a[h].c(),x(a[h],1),a[h].m(f,null))}for(Ce(),h=A.length;h<a.length;h+=1)w(h);Ee()}},i(d){if(!C){x(t.$$.fragment,d);for(let k=0;k<A.length;k+=1)x(a[k]);x(p.$$.fragment,d),C=!0}},o(d){H(t.$$.fragment,d),a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)H(a[k]);H(p.$$.fragment,d),C=!1},d(d){d&&v(e),Z(t),o[5](null),Te(a,d),Z(p),E=!1,S()}}}function Ve(o,e,t){let l,s;const r=P(),n=le();K(o,n,_=>t(1,l=_));const c=r.pipe(ke(()=>!!s),$e(()=>Oe(s.checked))).subscribe(),i=n.pipe(se(_=>{const p=_.length,C=_.filter(E=>E.completed).length;return p===0?!1:p===C}),q(_=>{s&&t(0,s.checked=_,s)})).subscribe();te(()=>()=>{i.unsubscribe(),c.unsubscribe()});const $=_=>r.next(!0);function f(_){ne[_?"unshift":"push"](()=>{s=_,t(0,s)})}return[s,l,r,n,$,f]}class je extends J{constructor(e){super(),W(this,e,Ve,Pe,G,{})}}function ze(o){let e,t,l,s,r='<p>Created by <a href="http://twitter.com/bibbynet">Bibby</a></p> <p>Reference to <a href="http://todomvc.com">TodoMVC</a></p>',n;return t=new je({}),{c(){e=b("div"),Q(t.$$.fragment),l=F(),s=b("footer"),s.innerHTML=r,this.h()},l(c){e=g(c,"DIV",{class:!0});var i=T(e);X(t.$$.fragment,i),l=y(i),s=g(i,"FOOTER",{class:!0,"data-svelte-h":!0}),ee(s)!=="svelte-13064in"&&(s.innerHTML=r),i.forEach(v),this.h()},h(){m(s,"class","info"),m(e,"class","min-w-2xl")},m(c,i){V(c,e,i),Y(t,e,null),u(e,l),u(e,s),n=!0},p:N,i(c){n||(x(t.$$.fragment,c),n=!0)},o(c){H(t.$$.fragment,c),n=!1},d(c){c&&v(e),Z(t)}}}class Xe extends J{constructor(e){super(),W(this,e,null,ze,G,{})}}export{Xe as default};
