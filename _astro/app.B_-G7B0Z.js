import{S as J,i as W,s as G,e as b,a as F,c as g,b as T,g as ee,d as y,f as v,h as m,j as V,k as u,l as M,p as U,n as N,o as te,m as ne,t as j,q as z,r as ge,u as ve,v as K,w as pe,x as Q,y as X,z as Y,A as x,B as Ce,C as Ee,D as H,E as Z,F as Te}from"./index.CcvOkVY-.js";import{g as P,m as le,f as $e}from"./util.DortvTSX.js";import{t as q,a as Ae,g as se,b as Se,c as Ie,s as ke,r as we,u as Be,d as Le,f as Oe}from"./todolist.service.DpIt9x9U.js";function Fe(o){let e,t,l="todos",s,a,n,c,i;return{c(){e=b("header"),t=b("h1"),t.textContent=l,s=F(),a=b("form"),n=b("input"),this.h()},l($){e=g($,"HEADER",{class:!0});var d=T(e);t=g(d,"H1",{"data-svelte-h":!0}),ee(t)!=="svelte-1lsgzbp"&&(t.textContent=l),s=y(d),a=g(d,"FORM",{});var _=T(a);n=g(_,"INPUT",{class:!0,placeholder:!0}),_.forEach(v),d.forEach(v),this.h()},h(){m(n,"class","new-todo"),m(n,"placeholder","What needs to be done?"),n.autofocus=!0,m(e,"class","header")},m($,d){V($,e,d),u(e,t),u(e,s),u(e,a),u(a,n),o[2](n),n.focus(),c||(i=M(a,"submit",U(o[3])),c=!0)},p:N,i:N,o:N,d($){$&&v(e),o[2](null),c=!1,i()}}}function ye(o,e,t){let l;const s=P(),a=s.pipe(q(()=>{const i=l?.value??"";i!==""&&(Ae(i??""),t(0,l.value="",l))})).subscribe();te(()=>()=>{a.unsubscribe()});function n(i){ne[i?"unshift":"push"](()=>{l=i,t(0,l)})}return[l,s,n,()=>s.next(!0)]}class Ne extends J{constructor(e){super(),W(this,e,ye,Fe,G,{})}}function me(o){let e,t="Clear completed",l,s;return{c(){e=b("button"),e.textContent=t,this.h()},l(a){e=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-a8or5z"&&(e.textContent=t),this.h()},h(){m(e,"class","clear-completed")},m(a,n){V(a,e,n),l||(s=M(e,"click",U(o[11])),l=!0)},p:N,d(a){a&&v(e),l=!1,s()}}}function Me(o){let e,t,l=o[0]===1?"1 uncompleted item left":`${o[0]} uncompleted items left`,s,a,n,c,i,$,d,_,h,C,E,S,A,r,w,f,k,p,O,R,oe,I=o[2]&&me(o);return{c(){e=b("footer"),t=b("span"),s=j(l),a=F(),n=b("ul"),c=b("li"),i=b("a"),$=j("All"),_=F(),h=b("li"),C=b("a"),E=j("Active"),A=F(),r=b("li"),w=b("a"),f=j("Completed"),p=F(),O=b("div"),I&&I.c(),this.h()},l(B){e=g(B,"FOOTER",{class:!0});var L=T(e);t=g(L,"SPAN",{class:!0});var ae=T(t);s=z(ae,l),ae.forEach(v),a=y(L),n=g(L,"UL",{class:!0});var D=T(n);c=g(D,"LI",{});var re=T(c);i=g(re,"A",{href:!0,class:!0});var ce=T(i);$=z(ce,"All"),ce.forEach(v),re.forEach(v),_=y(D),h=g(D,"LI",{});var ie=T(h);C=g(ie,"A",{href:!0,class:!0});var ue=T(C);E=z(ue,"Active"),ue.forEach(v),ie.forEach(v),A=y(D),r=g(D,"LI",{});var de=T(r);w=g(de,"A",{href:!0,class:!0});var fe=T(w);f=z(fe,"Completed"),fe.forEach(v),de.forEach(v),D.forEach(v),p=y(L),O=g(L,"DIV",{});var he=T(O);I&&I.l(he),he.forEach(v),L.forEach(v),this.h()},h(){m(t,"class","todo-count"),m(i,"href","#/"),m(i,"class",d=o[1]==="all"?"selected":""),m(C,"href","#/"),m(C,"class",S=o[1]==="active"?"selected":""),m(w,"href","#/"),m(w,"class",k=o[1]==="completed"?"selected":""),m(n,"class","filters"),m(e,"class","footer")},m(B,L){V(B,e,L),u(e,t),u(t,s),u(e,a),u(e,n),u(n,c),u(c,i),u(i,$),u(n,_),u(n,h),u(h,C),u(C,E),u(n,A),u(n,r),u(r,w),u(w,f),u(e,p),u(e,O),I&&I.m(O,null),R||(oe=[M(i,"click",U(o[8])),M(C,"click",U(o[9])),M(w,"click",U(o[10]))],R=!0)},p(B,[L]){L&1&&l!==(l=B[0]===1?"1 uncompleted item left":`${B[0]} uncompleted items left`)&&ge(s,l),L&2&&d!==(d=B[1]==="all"?"selected":"")&&m(i,"class",d),L&2&&S!==(S=B[1]==="active"?"selected":"")&&m(C,"class",S),L&2&&k!==(k=B[1]==="completed"?"selected":"")&&m(w,"class",k),B[2]?I?I.p(B,L):(I=me(B),I.c(),I.m(O,null)):I&&(I.d(1),I=null)},i:N,o:N,d(B){B&&v(e),I&&I.d(),R=!1,ve(oe)}}}function Ue(o,e,t){let l,s,a;const n=P(),c=P(),i=se().pipe(le(r=>r.filter(f=>f.completed).length!==0));K(o,i,r=>t(2,a=r));const $=se().pipe(le(r=>r.filter(w=>!w.completed).length));K(o,$,r=>t(0,l=r));const d=Se();K(o,d,r=>t(1,s=r));const _=c.pipe(q(r=>Ie(r))).subscribe(),h=n.pipe(ke(()=>we())).subscribe();return te(()=>()=>{h.unsubscribe(),_.unsubscribe()}),[l,s,a,n,c,i,$,d,()=>c.next("all"),()=>c.next("active"),()=>c.next("completed"),()=>n.next(!0)]}class Re extends J{constructor(e){super(),W(this,e,Ue,Me,G,{})}}function xe(o){let e,t,l,s,a,n,c=o[0].title+"",i,$,d,_,h,C;return{c(){e=b("li"),t=b("div"),l=b("input"),a=F(),n=b("label"),i=j(c),$=F(),d=b("button"),this.h()},l(E){e=g(E,"LI",{class:!0});var S=T(e);t=g(S,"DIV",{class:!0});var A=T(t);l=g(A,"INPUT",{class:!0,type:!0}),a=y(A),n=g(A,"LABEL",{});var r=T(n);i=z(r,c),r.forEach(v),$=y(A),d=g(A,"BUTTON",{class:!0}),T(d).forEach(v),A.forEach(v),S.forEach(v),this.h()},h(){m(l,"class","toggle"),m(l,"type","checkbox"),l.checked=s=o[0].completed,m(d,"class","destroy"),m(t,"class","view"),m(e,"class",_=o[0].completed?"completed":"")},m(E,S){V(E,e,S),u(e,t),u(t,l),o[5](l),u(t,a),u(t,n),u(n,i),u(t,$),u(t,d),h||(C=[M(l,"change",U(o[4])),M(d,"click",U(o[6]))],h=!0)},p(E,[S]){S&1&&s!==(s=E[0].completed)&&(l.checked=s),S&1&&c!==(c=E[0].title+"")&&ge(i,c),S&1&&_!==(_=E[0].completed?"completed":"")&&m(e,"class",_)},i:N,o:N,d(E){E&&v(e),o[5](null),h=!1,ve(C)}}}function De(o,e,t){let{params:l}=e,s;const a=P(),n=P(),c=a.pipe($e(()=>!!s),q(()=>{const h=JSON.parse(JSON.stringify(l));h.completed=s.checked,Be(h)})).subscribe(),i=n.pipe(q(()=>Le(l.id))).subscribe();te(()=>()=>{c.unsubscribe(),i.unsubscribe()});const $=()=>a.next(!0);function d(h){ne[h?"unshift":"push"](()=>{s=h,t(1,s)})}const _=()=>n.next(!0);return o.$$set=h=>{"params"in h&&t(0,l=h.params)},[l,s,a,n,$,d,_]}class He extends J{constructor(e){super(),W(this,e,De,xe,G,{params:0})}}function _e(o,e,t){const l=o.slice();return l[8]=e[t],l}function be(o){let e,t;return e=new He({props:{params:o[8]}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,s){Y(e,l,s),t=!0},p(l,s){const a={};s&2&&(a.params=l[8]),e.$set(a)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Pe(o){let e,t,l,s,a,n,c,i="Mark all as complete",$,d,_,h,C,E,S;t=new Ne({});let A=pe(o[1]),r=[];for(let f=0;f<A.length;f+=1)r[f]=be(_e(o,A,f));const w=f=>H(r[f],1,1,()=>{r[f]=null});return h=new Re({}),{c(){e=b("section"),Q(t.$$.fragment),l=F(),s=b("section"),a=b("input"),n=F(),c=b("label"),c.textContent=i,$=F(),d=b("ul");for(let f=0;f<r.length;f+=1)r[f].c();_=F(),Q(h.$$.fragment),this.h()},l(f){e=g(f,"SECTION",{class:!0});var k=T(e);X(t.$$.fragment,k),l=y(k),s=g(k,"SECTION",{class:!0});var p=T(s);a=g(p,"INPUT",{id:!0,class:!0,type:!0}),n=y(p),c=g(p,"LABEL",{for:!0,"data-svelte-h":!0}),ee(c)!=="svelte-aniuop"&&(c.textContent=i),$=y(p),d=g(p,"UL",{class:!0});var O=T(d);for(let R=0;R<r.length;R+=1)r[R].l(O);O.forEach(v),p.forEach(v),_=y(k),X(h.$$.fragment,k),k.forEach(v),this.h()},h(){m(a,"id","toggle-all"),m(a,"class","toggle-all"),m(a,"type","checkbox"),m(c,"for","toggle-all"),m(d,"class","todo-list"),m(s,"class","main"),m(e,"class","todoapp")},m(f,k){V(f,e,k),Y(t,e,null),u(e,l),u(e,s),u(s,a),o[5](a),u(s,n),u(s,c),u(s,$),u(s,d);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(d,null);u(e,_),Y(h,e,null),C=!0,E||(S=M(a,"change",U(o[4])),E=!0)},p(f,[k]){if(k&2){A=pe(f[1]);let p;for(p=0;p<A.length;p+=1){const O=_e(f,A,p);r[p]?(r[p].p(O,k),x(r[p],1)):(r[p]=be(O),r[p].c(),x(r[p],1),r[p].m(d,null))}for(Ce(),p=A.length;p<r.length;p+=1)w(p);Ee()}},i(f){if(!C){x(t.$$.fragment,f);for(let k=0;k<A.length;k+=1)x(r[k]);x(h.$$.fragment,f),C=!0}},o(f){H(t.$$.fragment,f),r=r.filter(Boolean);for(let k=0;k<r.length;k+=1)H(r[k]);H(h.$$.fragment,f),C=!1},d(f){f&&v(e),Z(t),o[5](null),Te(r,f),Z(h),E=!1,S()}}}function Ve(o,e,t){let l,s;const a=P(),n=se();K(o,n,_=>t(1,l=_));const c=a.pipe($e(()=>!!s),ke(()=>Oe(s.checked))).subscribe(),i=n.pipe(le(_=>{const h=_.length,C=_.filter(E=>E.completed).length;return h===0?!1:h===C}),q(_=>{s&&t(0,s.checked=_,s)})).subscribe();te(()=>()=>{i.unsubscribe(),c.unsubscribe()});const $=_=>a.next(!0);function d(_){ne[_?"unshift":"push"](()=>{s=_,t(0,s)})}return[s,l,a,n,$,d]}class je extends J{constructor(e){super(),W(this,e,Ve,Pe,G,{})}}function ze(o){let e,t,l,s,a='<p>Created by <a href="http://twitter.com/bibbynet">Bibby</a></p> <p>Reference to <a href="http://todomvc.com">TodoMVC</a></p>',n;return t=new je({}),{c(){e=b("div"),Q(t.$$.fragment),l=F(),s=b("footer"),s.innerHTML=a,this.h()},l(c){e=g(c,"DIV",{class:!0});var i=T(e);X(t.$$.fragment,i),l=y(i),s=g(i,"FOOTER",{class:!0,"data-svelte-h":!0}),ee(s)!=="svelte-13064in"&&(s.innerHTML=a),i.forEach(v),this.h()},h(){m(s,"class","info"),m(e,"class","min-w-2xl")},m(c,i){V(c,e,i),Y(t,e,null),u(e,l),u(e,s),n=!0},p:N,i(c){n||(x(t.$$.fragment,c),n=!0)},o(c){H(t.$$.fragment,c),n=!1},d(c){c&&v(e),Z(t)}}}class Ge extends J{constructor(e){super(),W(this,e,null,ze,G,{})}}export{Ge as default};
