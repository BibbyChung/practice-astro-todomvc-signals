import{H as pt,J as jt,P as Ne,K as xt,L as Ft,M as Ee,O as Bt,Q as _t,R as Me,S as Vt,X as Ut,T as me,U as Q,V as Gt,W as Wt,Y as yt,Z as mt,_ as gt,$ as Ce,a0 as De,a1 as Tt,a2 as Xt,a3 as qt,a4 as vt,a5 as zt,a6 as $t,t as Yt}from"./common.D5bSm3qn.js";import{S as Kt}from"./map.BOKCRUkl.js";import"./innerFrom.-_aNtNEc.js";(function(t){const e=t.performance;function o(H){e&&e.mark&&e.mark(H)}function n(H,m){e&&e.measure&&e.measure(H,m)}o("Zone");const r=t.__Zone_symbol_prefix||"__zone_symbol__";function i(H){return r+H}const l=t[i("forceDuplicateZoneCheck")]===!0;if(t.Zone){if(l||typeof t.Zone.__symbol__!="function")throw new Error("Zone already loaded.");return t.Zone}let u=(()=>{var H;class m{static assertZonePatched(){if(t.Promise!==ie.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let s=m.current;for(;s.parent;)s=s.parent;return s}static get current(){return W.zone}static get currentTask(){return oe}static __load_patch(s,g,b=!1){if(ie.hasOwnProperty(s)){if(!b&&l)throw Error("Already loaded patch: "+s)}else if(!t["__Zone_disable_"+s]){const L="Zone:"+s;o(L),ie[s]=g(t,m,$),n(L,L)}}get parent(){return this._parent}get name(){return this._name}constructor(s,g){this._parent=s,this._name=g?g.name||"unnamed":"<root>",this._properties=g&&g.properties||{},this._zoneDelegate=new _(this,this._parent&&this._parent._zoneDelegate,g)}get(s){const g=this.getZoneWith(s);if(g)return g._properties[s]}getZoneWith(s){let g=this;for(;g;){if(g._properties.hasOwnProperty(s))return g;g=g._parent}return null}fork(s){if(!s)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,s)}wrap(s,g){if(typeof s!="function")throw new Error("Expecting function got: "+s);const b=this._zoneDelegate.intercept(this,s,g),L=this;return function(){return L.runGuarded(b,this,arguments,g)}}run(s,g,b,L){W={parent:W,zone:this};try{return this._zoneDelegate.invoke(this,s,g,b,L)}finally{W=W.parent}}runGuarded(s,g=null,b,L){W={parent:W,zone:this};try{try{return this._zoneDelegate.invoke(this,s,g,b,L)}catch(h){if(this._zoneDelegate.handleError(this,h))throw h}}finally{W=W.parent}}runTask(s,g,b){if(s.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(s.zone||K).name+"; Execution: "+this.name+")");if(s.state===F&&(s.type===ee||s.type===R))return;const L=s.state!=v;L&&s._transitionTo(v,Z),s.runCount++;const h=oe;oe=s,W={parent:W,zone:this};try{s.type==R&&s.data&&!s.data.isPeriodic&&(s.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,s,g,b)}catch(f){if(this._zoneDelegate.handleError(this,f))throw f}}finally{s.state!==F&&s.state!==y&&(s.type==ee||s.data&&s.data.isPeriodic?L&&s._transitionTo(Z,v):(s.runCount=0,this._updateTaskCount(s,-1),L&&s._transitionTo(F,v,F))),W=W.parent,oe=h}}scheduleTask(s){if(s.zone&&s.zone!==this){let b=this;for(;b;){if(b===s.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${s.zone.name}`);b=b.parent}}s._transitionTo(z,F);const g=[];s._zoneDelegates=g,s._zone=this;try{s=this._zoneDelegate.scheduleTask(this,s)}catch(b){throw s._transitionTo(y,z,F),this._zoneDelegate.handleError(this,b),b}return s._zoneDelegates===g&&this._updateTaskCount(s,1),s.state==z&&s._transitionTo(Z,z),s}scheduleMicroTask(s,g,b,L){return this.scheduleTask(new p(A,s,g,b,L,void 0))}scheduleMacroTask(s,g,b,L,h){return this.scheduleTask(new p(R,s,g,b,L,h))}scheduleEventTask(s,g,b,L,h){return this.scheduleTask(new p(ee,s,g,b,L,h))}cancelTask(s){if(s.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(s.zone||K).name+"; Execution: "+this.name+")");if(!(s.state!==Z&&s.state!==v)){s._transitionTo(V,Z,v);try{this._zoneDelegate.cancelTask(this,s)}catch(g){throw s._transitionTo(y,V),this._zoneDelegate.handleError(this,g),g}return this._updateTaskCount(s,-1),s._transitionTo(F,V),s.runCount=0,s}}_updateTaskCount(s,g){const b=s._zoneDelegates;g==-1&&(s._zoneDelegates=null);for(let L=0;L<b.length;L++)b[L]._updateTaskCount(s.type,g)}}return H=m,H.__symbol__=i,m})();const E={name:"",onHasTask:(H,m,a,s)=>H.hasTask(a,s),onScheduleTask:(H,m,a,s)=>H.scheduleTask(a,s),onInvokeTask:(H,m,a,s,g,b)=>H.invokeTask(a,s,g,b),onCancelTask:(H,m,a,s)=>H.cancelTask(a,s)};class _{constructor(m,a,s){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=m,this._parentDelegate=a,this._forkZS=s&&(s&&s.onFork?s:a._forkZS),this._forkDlgt=s&&(s.onFork?a:a._forkDlgt),this._forkCurrZone=s&&(s.onFork?this.zone:a._forkCurrZone),this._interceptZS=s&&(s.onIntercept?s:a._interceptZS),this._interceptDlgt=s&&(s.onIntercept?a:a._interceptDlgt),this._interceptCurrZone=s&&(s.onIntercept?this.zone:a._interceptCurrZone),this._invokeZS=s&&(s.onInvoke?s:a._invokeZS),this._invokeDlgt=s&&(s.onInvoke?a:a._invokeDlgt),this._invokeCurrZone=s&&(s.onInvoke?this.zone:a._invokeCurrZone),this._handleErrorZS=s&&(s.onHandleError?s:a._handleErrorZS),this._handleErrorDlgt=s&&(s.onHandleError?a:a._handleErrorDlgt),this._handleErrorCurrZone=s&&(s.onHandleError?this.zone:a._handleErrorCurrZone),this._scheduleTaskZS=s&&(s.onScheduleTask?s:a._scheduleTaskZS),this._scheduleTaskDlgt=s&&(s.onScheduleTask?a:a._scheduleTaskDlgt),this._scheduleTaskCurrZone=s&&(s.onScheduleTask?this.zone:a._scheduleTaskCurrZone),this._invokeTaskZS=s&&(s.onInvokeTask?s:a._invokeTaskZS),this._invokeTaskDlgt=s&&(s.onInvokeTask?a:a._invokeTaskDlgt),this._invokeTaskCurrZone=s&&(s.onInvokeTask?this.zone:a._invokeTaskCurrZone),this._cancelTaskZS=s&&(s.onCancelTask?s:a._cancelTaskZS),this._cancelTaskDlgt=s&&(s.onCancelTask?a:a._cancelTaskDlgt),this._cancelTaskCurrZone=s&&(s.onCancelTask?this.zone:a._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const g=s&&s.onHasTask,b=a&&a._hasTaskZS;(g||b)&&(this._hasTaskZS=g?s:E,this._hasTaskDlgt=a,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=m,s.onScheduleTask||(this._scheduleTaskZS=E,this._scheduleTaskDlgt=a,this._scheduleTaskCurrZone=this.zone),s.onInvokeTask||(this._invokeTaskZS=E,this._invokeTaskDlgt=a,this._invokeTaskCurrZone=this.zone),s.onCancelTask||(this._cancelTaskZS=E,this._cancelTaskDlgt=a,this._cancelTaskCurrZone=this.zone))}fork(m,a){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,m,a):new u(m,a)}intercept(m,a,s){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,m,a,s):a}invoke(m,a,s,g,b){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,m,a,s,g,b):a.apply(s,g)}handleError(m,a){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,m,a):!0}scheduleTask(m,a){let s=a;if(this._scheduleTaskZS)this._hasTaskZS&&s._zoneDelegates.push(this._hasTaskDlgtOwner),s=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,m,a),s||(s=a);else if(a.scheduleFn)a.scheduleFn(a);else if(a.type==A)P(a);else throw new Error("Task is missing scheduleFn.");return s}invokeTask(m,a,s,g){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,m,a,s,g):a.callback.apply(s,g)}cancelTask(m,a){let s;if(this._cancelTaskZS)s=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,m,a);else{if(!a.cancelFn)throw Error("Task is not cancelable");s=a.cancelFn(a)}return s}hasTask(m,a){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,m,a)}catch(s){this.handleError(m,s)}}_updateTaskCount(m,a){const s=this._taskCounts,g=s[m],b=s[m]=g+a;if(b<0)throw new Error("More tasks executed then were scheduled.");if(g==0||b==0){const L={microTask:s.microTask>0,macroTask:s.macroTask>0,eventTask:s.eventTask>0,change:m};this.hasTask(this.zone,L)}}}class p{constructor(m,a,s,g,b,L){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=m,this.source=a,this.data=g,this.scheduleFn=b,this.cancelFn=L,!s)throw new Error("callback is not defined");this.callback=s;const h=this;m===ee&&g&&g.useG?this.invoke=p.invokeTask:this.invoke=function(){return p.invokeTask.call(t,h,this,arguments)}}static invokeTask(m,a,s){m||(m=this),ne++;try{return m.runCount++,m.zone.runTask(m,a,s)}finally{ne==1&&T(),ne--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(F,z)}_transitionTo(m,a,s){if(this._state===a||this._state===s)this._state=m,m==F&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${m}', expecting state '${a}'${s?" or '"+s+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const S=i("setTimeout"),D=i("Promise"),I=i("then");let B=[],j=!1,J;function q(H){if(J||t[D]&&(J=t[D].resolve(0)),J){let m=J[I];m||(m=J.then),m.call(J,H)}else t[S](H,0)}function P(H){ne===0&&B.length===0&&q(T),H&&B.push(H)}function T(){if(!j){for(j=!0;B.length;){const H=B;B=[];for(let m=0;m<H.length;m++){const a=H[m];try{a.zone.runTask(a,null,null)}catch(s){$.onUnhandledError(s)}}}$.microtaskDrainDone(),j=!1}}const K={name:"NO ZONE"},F="notScheduled",z="scheduling",Z="scheduled",v="running",V="canceling",y="unknown",A="microTask",R="macroTask",ee="eventTask",ie={},$={symbol:i,currentZoneFrame:()=>W,onUnhandledError:X,microtaskDrainDone:X,scheduleMicroTask:P,showUncaughtError:()=>!u[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:X,patchMethod:()=>X,bindArguments:()=>[],patchThen:()=>X,patchMacroTask:()=>X,patchEventPrototype:()=>X,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>X,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>X,wrapWithCurrentZone:()=>X,filterProperties:()=>[],attachOriginToPatched:()=>X,_redefineProperty:()=>X,patchCallbacks:()=>X,nativeScheduleMicroTask:q};let W={parent:null,zone:new u(null,null)},oe=null,ne=0;function X(){}return n("Zone","Zone"),t.Zone=u})(globalThis);const we=Object.getOwnPropertyDescriptor,We=Object.defineProperty,Xe=Object.getPrototypeOf,Jt=Object.create,Qt=Array.prototype.slice,qe="addEventListener",ze="removeEventListener",He=Zone.__symbol__(qe),je=Zone.__symbol__(ze),ae="true",le="false",Se=Zone.__symbol__("");function $e(t,e){return Zone.current.wrap(t,e)}function Ye(t,e,o,n,r){return Zone.current.scheduleMacroTask(t,e,o,n,r)}const x=Zone.__symbol__,Ie=typeof window<"u",ge=Ie?window:void 0,Y=Ie&&ge||globalThis,en="removeAttribute";function Ke(t,e){for(let o=t.length-1;o>=0;o--)typeof t[o]=="function"&&(t[o]=$e(t[o],e+"_"+o));return t}function tn(t,e){const o=t.constructor.name;for(let n=0;n<e.length;n++){const r=e[n],i=t[r];if(i){const l=we(t,r);if(!kt(l))continue;t[r]=(u=>{const E=function(){return u.apply(this,Ke(arguments,o+"."+r))};return ue(E,u),E})(i)}}}function kt(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}const wt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ae=!("nw"in Y)&&typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]",Je=!Ae&&!wt&&!!(Ie&&ge.HTMLElement),St=typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]"&&!wt&&!!(Ie&&ge.HTMLElement),Oe={},ct=function(t){if(t=t||Y.event,!t)return;let e=Oe[t.type];e||(e=Oe[t.type]=x("ON_PROPERTY"+t.type));const o=this||t.target||Y,n=o[e];let r;if(Je&&o===ge&&t.type==="error"){const i=t;r=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),r===!0&&t.preventDefault()}else r=n&&n.apply(this,arguments),r!=null&&!r&&t.preventDefault();return r};function at(t,e,o){let n=we(t,e);if(!n&&o&&we(o,e)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;const r=x("on"+e+"patched");if(t.hasOwnProperty(r)&&t[r])return;delete n.writable,delete n.value;const i=n.get,l=n.set,u=e.slice(2);let E=Oe[u];E||(E=Oe[u]=x("ON_PROPERTY"+u)),n.set=function(_){let p=this;if(!p&&t===Y&&(p=Y),!p)return;typeof p[E]=="function"&&p.removeEventListener(u,ct),l&&l.call(p,null),p[E]=_,typeof _=="function"&&p.addEventListener(u,ct,!1)},n.get=function(){let _=this;if(!_&&t===Y&&(_=Y),!_)return null;const p=_[E];if(p)return p;if(i){let S=i.call(this);if(S)return n.set.call(this,S),typeof _[en]=="function"&&_.removeAttribute(e),S}return null},We(t,e,n),t[r]=!0}function Rt(t,e,o){if(e)for(let n=0;n<e.length;n++)at(t,"on"+e[n],o);else{const n=[];for(const r in t)r.slice(0,2)=="on"&&n.push(r);for(let r=0;r<n.length;r++)at(t,n[r],o)}}const se=x("originalInstance");function Re(t){const e=Y[t];if(!e)return;Y[x(t)]=e,Y[t]=function(){const r=Ke(arguments,t);switch(r.length){case 0:this[se]=new e;break;case 1:this[se]=new e(r[0]);break;case 2:this[se]=new e(r[0],r[1]);break;case 3:this[se]=new e(r[0],r[1],r[2]);break;case 4:this[se]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[t],e);const o=new e(function(){});let n;for(n in o)t==="XMLHttpRequest"&&n==="responseBlob"||function(r){typeof o[r]=="function"?Y[t].prototype[r]=function(){return this[se][r].apply(this[se],arguments)}:We(Y[t].prototype,r,{set:function(i){typeof i=="function"?(this[se][r]=$e(i,t+"."+r),ue(this[se][r],i)):this[se][r]=i},get:function(){return this[se][r]}})}(n);for(n in e)n!=="prototype"&&e.hasOwnProperty(n)&&(Y[t][n]=e[n])}function he(t,e,o){let n=t;for(;n&&!n.hasOwnProperty(e);)n=Xe(n);!n&&t[e]&&(n=t);const r=x(e);let i=null;if(n&&(!(i=n[r])||!n.hasOwnProperty(r))){i=n[r]=n[e];const l=n&&we(n,e);if(kt(l)){const u=o(i,r,e);n[e]=function(){return u(this,arguments)},ue(n[e],i)}}return i}function nn(t,e,o){let n=null;function r(i){const l=i.data;return l.args[l.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(l.target,l.args),i}n=he(t,e,i=>function(l,u){const E=o(l,u);return E.cbIdx>=0&&typeof u[E.cbIdx]=="function"?Ye(E.name,u[E.cbIdx],E,r):i.apply(l,u)})}function ue(t,e){t[x("OriginalDelegate")]=e}let lt=!1,xe=!1;function rn(){try{const t=ge.navigator.userAgent;if(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1)return!0}catch{}return!1}function on(){if(lt)return xe;lt=!0;try{const t=ge.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(xe=!0)}catch{}return xe}Zone.__load_patch("ZoneAwarePromise",(t,e,o)=>{const n=Object.getOwnPropertyDescriptor,r=Object.defineProperty;function i(h){if(h&&h.toString===Object.prototype.toString){const f=h.constructor&&h.constructor.name;return(f||"")+": "+JSON.stringify(h)}return h?h.toString():Object.prototype.toString.call(h)}const l=o.symbol,u=[],E=t[l("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,_=l("Promise"),p=l("then"),S="__creationTrace__";o.onUnhandledError=h=>{if(o.showUncaughtError()){const f=h&&h.rejection;f?console.error("Unhandled Promise rejection:",f instanceof Error?f.message:f,"; Zone:",h.zone.name,"; Task:",h.task&&h.task.source,"; Value:",f,f instanceof Error?f.stack:void 0):console.error(h)}},o.microtaskDrainDone=()=>{for(;u.length;){const h=u.shift();try{h.zone.runGuarded(()=>{throw h.throwOriginal?h.rejection:h})}catch(f){I(f)}}};const D=l("unhandledPromiseRejectionHandler");function I(h){o.onUnhandledError(h);try{const f=e[D];typeof f=="function"&&f.call(this,h)}catch{}}function B(h){return h&&h.then}function j(h){return h}function J(h){return a.reject(h)}const q=l("state"),P=l("value"),T=l("finally"),K=l("parentPromiseValue"),F=l("parentPromiseState"),z="Promise.then",Z=null,v=!0,V=!1,y=0;function A(h,f){return c=>{try{$(h,f,c)}catch(d){$(h,!1,d)}}}const R=function(){let h=!1;return function(c){return function(){h||(h=!0,c.apply(null,arguments))}}},ee="Promise resolved with itself",ie=l("currentTaskTrace");function $(h,f,c){const d=R();if(h===c)throw new TypeError(ee);if(h[q]===Z){let w=null;try{(typeof c=="object"||typeof c=="function")&&(w=c&&c.then)}catch(C){return d(()=>{$(h,!1,C)})(),h}if(f!==V&&c instanceof a&&c.hasOwnProperty(q)&&c.hasOwnProperty(P)&&c[q]!==Z)oe(c),$(h,c[q],c[P]);else if(f!==V&&typeof w=="function")try{w.call(c,d(A(h,f)),d(A(h,!1)))}catch(C){d(()=>{$(h,!1,C)})()}else{h[q]=f;const C=h[P];if(h[P]=c,h[T]===T&&f===v&&(h[q]=h[F],h[P]=h[K]),f===V&&c instanceof Error){const k=e.currentTask&&e.currentTask.data&&e.currentTask.data[S];k&&r(c,ie,{configurable:!0,enumerable:!1,writable:!0,value:k})}for(let k=0;k<C.length;)ne(h,C[k++],C[k++],C[k++],C[k++]);if(C.length==0&&f==V){h[q]=y;let k=c;try{throw new Error("Uncaught (in promise): "+i(c)+(c&&c.stack?`
`+c.stack:""))}catch(O){k=O}E&&(k.throwOriginal=!0),k.rejection=c,k.promise=h,k.zone=e.current,k.task=e.currentTask,u.push(k),o.scheduleMicroTask()}}}return h}const W=l("rejectionHandledHandler");function oe(h){if(h[q]===y){try{const f=e[W];f&&typeof f=="function"&&f.call(this,{rejection:h[P],promise:h})}catch{}h[q]=V;for(let f=0;f<u.length;f++)h===u[f].promise&&u.splice(f,1)}}function ne(h,f,c,d,w){oe(h);const C=h[q],k=C?typeof d=="function"?d:j:typeof w=="function"?w:J;f.scheduleMicroTask(z,()=>{try{const O=h[P],N=!!c&&T===c[T];N&&(c[K]=O,c[F]=C);const M=f.run(k,void 0,N&&k!==J&&k!==j?[]:[O]);$(c,!0,M)}catch(O){$(c,!1,O)}},c)}const X="function ZoneAwarePromise() { [native code] }",H=function(){},m=t.AggregateError;class a{static toString(){return X}static resolve(f){return f instanceof a?f:$(new this(null),v,f)}static reject(f){return $(new this(null),V,f)}static withResolvers(){const f={};return f.promise=new a((c,d)=>{f.resolve=c,f.reject=d}),f}static any(f){if(!f||typeof f[Symbol.iterator]!="function")return Promise.reject(new m([],"All promises were rejected"));const c=[];let d=0;try{for(let k of f)d++,c.push(a.resolve(k))}catch{return Promise.reject(new m([],"All promises were rejected"))}if(d===0)return Promise.reject(new m([],"All promises were rejected"));let w=!1;const C=[];return new a((k,O)=>{for(let N=0;N<c.length;N++)c[N].then(M=>{w||(w=!0,k(M))},M=>{C.push(M),d--,d===0&&(w=!0,O(new m(C,"All promises were rejected")))})})}static race(f){let c,d,w=new this((O,N)=>{c=O,d=N});function C(O){c(O)}function k(O){d(O)}for(let O of f)B(O)||(O=this.resolve(O)),O.then(C,k);return w}static all(f){return a.allWithCallback(f)}static allSettled(f){return(this&&this.prototype instanceof a?this:a).allWithCallback(f,{thenCallback:d=>({status:"fulfilled",value:d}),errorCallback:d=>({status:"rejected",reason:d})})}static allWithCallback(f,c){let d,w,C=new this((M,U)=>{d=M,w=U}),k=2,O=0;const N=[];for(let M of f){B(M)||(M=this.resolve(M));const U=O;try{M.then(G=>{N[U]=c?c.thenCallback(G):G,k--,k===0&&d(N)},G=>{c?(N[U]=c.errorCallback(G),k--,k===0&&d(N)):w(G)})}catch(G){w(G)}k++,O++}return k-=2,k===0&&d(N),C}constructor(f){const c=this;if(!(c instanceof a))throw new Error("Must be an instanceof Promise.");c[q]=Z,c[P]=[];try{const d=R();f&&f(d(A(c,v)),d(A(c,V)))}catch(d){$(c,!1,d)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return a}then(f,c){let d=this.constructor?.[Symbol.species];(!d||typeof d!="function")&&(d=this.constructor||a);const w=new d(H),C=e.current;return this[q]==Z?this[P].push(C,w,f,c):ne(this,C,w,f,c),w}catch(f){return this.then(null,f)}finally(f){let c=this.constructor?.[Symbol.species];(!c||typeof c!="function")&&(c=a);const d=new c(H);d[T]=T;const w=e.current;return this[q]==Z?this[P].push(w,d,f,f):ne(this,w,d,f,f),d}}a.resolve=a.resolve,a.reject=a.reject,a.race=a.race,a.all=a.all;const s=t[_]=t.Promise;t.Promise=a;const g=l("thenPatched");function b(h){const f=h.prototype,c=n(f,"then");if(c&&(c.writable===!1||!c.configurable))return;const d=f.then;f[p]=d,h.prototype.then=function(w,C){return new a((O,N)=>{d.call(this,O,N)}).then(w,C)},h[g]=!0}o.patchThen=b;function L(h){return function(f,c){let d=h.apply(f,c);if(d instanceof a)return d;let w=d.constructor;return w[g]||b(w),d}}return s&&(b(s),he(t,"fetch",h=>L(h))),Promise[e.__symbol__("uncaughtPromiseErrors")]=u,a});Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,o=x("OriginalDelegate"),n=x("Promise"),r=x("Error"),i=function(){if(typeof this=="function"){const _=this[o];if(_)return typeof _=="function"?e.call(_):Object.prototype.toString.call(_);if(this===Promise){const p=t[n];if(p)return e.call(p)}if(this===Error){const p=t[r];if(p)return e.call(p)}}return e.call(this)};i[o]=e,Function.prototype.toString=i;const l=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:l.call(this)}});let _e=!1;if(typeof window<"u")try{const t=Object.defineProperty({},"passive",{get:function(){_e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{_e=!1}const sn={useG:!0},re={},bt={},Ct=new RegExp("^"+Se+"(\\w+)(true|false)$"),Dt=x("propagationStopped");function Pt(t,e){const o=(e?e(t):t)+le,n=(e?e(t):t)+ae,r=Se+o,i=Se+n;re[t]={},re[t][le]=r,re[t][ae]=i}function cn(t,e,o,n){const r=n&&n.add||qe,i=n&&n.rm||ze,l=n&&n.listeners||"eventListeners",u=n&&n.rmAll||"removeAllListeners",E=x(r),_="."+r+":",p="prependListener",S="."+p+":",D=function(P,T,K){if(P.isRemoved)return;const F=P.callback;typeof F=="object"&&F.handleEvent&&(P.callback=v=>F.handleEvent(v),P.originalDelegate=F);let z;try{P.invoke(P,T,[K])}catch(v){z=v}const Z=P.options;if(Z&&typeof Z=="object"&&Z.once){const v=P.originalDelegate?P.originalDelegate:P.callback;T[i].call(T,K.type,v,Z)}return z};function I(P,T,K){if(T=T||t.event,!T)return;const F=P||T.target||t,z=F[re[T.type][K?ae:le]];if(z){const Z=[];if(z.length===1){const v=D(z[0],F,T);v&&Z.push(v)}else{const v=z.slice();for(let V=0;V<v.length&&!(T&&T[Dt]===!0);V++){const y=D(v[V],F,T);y&&Z.push(y)}}if(Z.length===1)throw Z[0];for(let v=0;v<Z.length;v++){const V=Z[v];e.nativeScheduleMicroTask(()=>{throw V})}}}const B=function(P){return I(this,P,!1)},j=function(P){return I(this,P,!0)};function J(P,T){if(!P)return!1;let K=!0;T&&T.useG!==void 0&&(K=T.useG);const F=T&&T.vh;let z=!0;T&&T.chkDup!==void 0&&(z=T.chkDup);let Z=!1;T&&T.rt!==void 0&&(Z=T.rt);let v=P;for(;v&&!v.hasOwnProperty(r);)v=Xe(v);if(!v&&P[r]&&(v=P),!v||v[E])return!1;const V=T&&T.eventNameToString,y={},A=v[E]=v[r],R=v[x(i)]=v[i],ee=v[x(l)]=v[l],ie=v[x(u)]=v[u];let $;T&&T.prepend&&($=v[x(T.prepend)]=v[T.prepend]);function W(c,d){return!_e&&typeof c=="object"&&c?!!c.capture:!_e||!d?c:typeof c=="boolean"?{capture:c,passive:!0}:c?typeof c=="object"&&c.passive!==!1?{...c,passive:!0}:c:{passive:!0}}const oe=function(c){if(!y.isExisting)return A.call(y.target,y.eventName,y.capture?j:B,y.options)},ne=function(c){if(!c.isRemoved){const d=re[c.eventName];let w;d&&(w=d[c.capture?ae:le]);const C=w&&c.target[w];if(C){for(let k=0;k<C.length;k++)if(C[k]===c){C.splice(k,1),c.isRemoved=!0,C.length===0&&(c.allRemoved=!0,c.target[w]=null);break}}}if(c.allRemoved)return R.call(c.target,c.eventName,c.capture?j:B,c.options)},X=function(c){return A.call(y.target,y.eventName,c.invoke,y.options)},H=function(c){return $.call(y.target,y.eventName,c.invoke,y.options)},m=function(c){return R.call(c.target,c.eventName,c.invoke,c.options)},a=K?oe:X,s=K?ne:m,g=function(c,d){const w=typeof d;return w==="function"&&c.callback===d||w==="object"&&c.originalDelegate===d},b=T&&T.diff?T.diff:g,L=Zone[x("UNPATCHED_EVENTS")],h=t[x("PASSIVE_EVENTS")],f=function(c,d,w,C,k=!1,O=!1){return function(){const N=this||t;let M=arguments[0];T&&T.transferEventName&&(M=T.transferEventName(M));let U=arguments[1];if(!U)return c.apply(this,arguments);if(Ae&&M==="uncaughtException")return c.apply(this,arguments);let G=!1;if(typeof U!="function"){if(!U.handleEvent)return c.apply(this,arguments);G=!0}if(F&&!F(c,U,N,arguments))return;const fe=_e&&!!h&&h.indexOf(M)!==-1,te=W(arguments[2],fe),Te=te&&typeof te=="object"&&te.signal&&typeof te.signal=="object"?te.signal:void 0;if(Te?.aborted)return;if(L){for(let de=0;de<L.length;de++)if(M===L[de])return fe?c.call(N,M,U,te):c.apply(this,arguments)}const Le=te?typeof te=="boolean"?!0:te.capture:!1,nt=te&&typeof te=="object"?te.once:!1,Ht=Zone.current;let Ze=re[M];Ze||(Pt(M,V),Ze=re[M]);const rt=Ze[Le?ae:le];let pe=N[rt],ot=!1;if(pe){if(ot=!0,z){for(let de=0;de<pe.length;de++)if(b(pe[de],U))return}}else pe=N[rt]=[];let be;const st=N.constructor.name,it=bt[st];it&&(be=it[M]),be||(be=st+d+(V?V(M):M)),y.options=te,nt&&(y.options.once=!1),y.target=N,y.capture=Le,y.eventName=M,y.isExisting=ot;const ve=K?sn:void 0;ve&&(ve.taskData=y),Te&&(y.options.signal=void 0);const ce=Ht.scheduleEventTask(be,U,ve,w,C);if(Te&&(y.options.signal=Te,c.call(Te,"abort",()=>{ce.zone.cancelTask(ce)},{once:!0})),y.target=null,ve&&(ve.taskData=null),nt&&(te.once=!0),!_e&&typeof ce.options=="boolean"||(ce.options=te),ce.target=N,ce.capture=Le,ce.eventName=M,G&&(ce.originalDelegate=U),O?pe.unshift(ce):pe.push(ce),k)return N}};return v[r]=f(A,_,a,s,Z),$&&(v[p]=f($,S,H,s,Z,!0)),v[i]=function(){const c=this||t;let d=arguments[0];T&&T.transferEventName&&(d=T.transferEventName(d));const w=arguments[2],C=w?typeof w=="boolean"?!0:w.capture:!1,k=arguments[1];if(!k)return R.apply(this,arguments);if(F&&!F(R,k,c,arguments))return;const O=re[d];let N;O&&(N=O[C?ae:le]);const M=N&&c[N];if(M)for(let U=0;U<M.length;U++){const G=M[U];if(b(G,k)){if(M.splice(U,1),G.isRemoved=!0,M.length===0&&(G.allRemoved=!0,c[N]=null,typeof d=="string")){const fe=Se+"ON_PROPERTY"+d;c[fe]=null}return G.zone.cancelTask(G),Z?c:void 0}}return R.apply(this,arguments)},v[l]=function(){const c=this||t;let d=arguments[0];T&&T.transferEventName&&(d=T.transferEventName(d));const w=[],C=Ot(c,V?V(d):d);for(let k=0;k<C.length;k++){const O=C[k];let N=O.originalDelegate?O.originalDelegate:O.callback;w.push(N)}return w},v[u]=function(){const c=this||t;let d=arguments[0];if(d){T&&T.transferEventName&&(d=T.transferEventName(d));const w=re[d];if(w){const C=w[le],k=w[ae],O=c[C],N=c[k];if(O){const M=O.slice();for(let U=0;U<M.length;U++){const G=M[U];let fe=G.originalDelegate?G.originalDelegate:G.callback;this[i].call(this,d,fe,G.options)}}if(N){const M=N.slice();for(let U=0;U<M.length;U++){const G=M[U];let fe=G.originalDelegate?G.originalDelegate:G.callback;this[i].call(this,d,fe,G.options)}}}}else{const w=Object.keys(c);for(let C=0;C<w.length;C++){const k=w[C],O=Ct.exec(k);let N=O&&O[1];N&&N!=="removeListener"&&this[u].call(this,N)}this[u].call(this,"removeListener")}if(Z)return this},ue(v[r],A),ue(v[i],R),ie&&ue(v[u],ie),ee&&ue(v[l],ee),!0}let q=[];for(let P=0;P<o.length;P++)q[P]=J(o[P],n);return q}function Ot(t,e){if(!e){const i=[];for(let l in t){const u=Ct.exec(l);let E=u&&u[1];if(E&&(!e||E===e)){const _=t[l];if(_)for(let p=0;p<_.length;p++)i.push(_[p])}}return i}let o=re[e];o||(Pt(e),o=re[e]);const n=t[o[le]],r=t[o[ae]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function an(t,e){const o=t.Event;o&&o.prototype&&e.patchMethod(o.prototype,"stopImmediatePropagation",n=>function(r,i){r[Dt]=!0,n&&n.apply(r,i)})}function ln(t,e,o,n,r){const i=Zone.__symbol__(n);if(e[i])return;const l=e[i]=e[n];e[n]=function(u,E,_){return E&&E.prototype&&r.forEach(function(p){const S=`${o}.${n}::`+p,D=E.prototype;try{if(D.hasOwnProperty(p)){const I=t.ObjectGetOwnPropertyDescriptor(D,p);I&&I.value?(I.value=t.wrapWithCurrentZone(I.value,S),t._redefineProperty(E.prototype,p,I)):D[p]&&(D[p]=t.wrapWithCurrentZone(D[p],S))}else D[p]&&(D[p]=t.wrapWithCurrentZone(D[p],S))}catch{}}),l.call(e,u,E,_)},t.attachOriginToPatched(e[n],l)}function Nt(t,e,o){if(!o||o.length===0)return e;const n=o.filter(i=>i.target===t);if(!n||n.length===0)return e;const r=n[0].ignoreProperties;return e.filter(i=>r.indexOf(i)===-1)}function ut(t,e,o,n){if(!t)return;const r=Nt(t,e,o);Rt(t,r,n)}function Ve(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function un(t,e){if(Ae&&!St||Zone[t.symbol("patchEvents")])return;const o=e.__Zone_ignore_on_properties;let n=[];if(Je){const r=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const i=rn()?[{target:r,ignoreProperties:["error"]}]:[];ut(r,Ve(r),o&&o.concat(i),Xe(r))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<n.length;r++){const i=e[n[r]];i&&i.prototype&&ut(i.prototype,Ve(i.prototype),o)}}Zone.__load_patch("util",(t,e,o)=>{const n=Ve(t);o.patchOnProperties=Rt,o.patchMethod=he,o.bindArguments=Ke,o.patchMacroTask=nn;const r=e.__symbol__("BLACK_LISTED_EVENTS"),i=e.__symbol__("UNPATCHED_EVENTS");t[i]&&(t[r]=t[i]),t[r]&&(e[r]=e[i]=t[r]),o.patchEventPrototype=an,o.patchEventTarget=cn,o.isIEOrEdge=on,o.ObjectDefineProperty=We,o.ObjectGetOwnPropertyDescriptor=we,o.ObjectCreate=Jt,o.ArraySlice=Qt,o.patchClass=Re,o.wrapWithCurrentZone=$e,o.filterProperties=Nt,o.attachOriginToPatched=ue,o._redefineProperty=Object.defineProperty,o.patchCallbacks=ln,o.getGlobalObjects=()=>({globalSources:bt,zoneSymbolEventNames:re,eventNames:n,isBrowser:Je,isMix:St,isNode:Ae,TRUE_STR:ae,FALSE_STR:le,ZONE_SYMBOL_PREFIX:Se,ADD_EVENT_LISTENER_STR:qe,REMOVE_EVENT_LISTENER_STR:ze})});function hn(t,e){e.patchMethod(t,"queueMicrotask",o=>function(n,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}const Pe=x("zoneTask");function ye(t,e,o,n){let r=null,i=null;e+=n,o+=n;const l={};function u(_){const p=_.data;return p.args[0]=function(){return _.invoke.apply(this,arguments)},p.handleId=r.apply(t,p.args),_}function E(_){return i.call(t,_.data.handleId)}r=he(t,e,_=>function(p,S){if(typeof S[0]=="function"){const D={isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?S[1]||0:void 0,args:S},I=S[0];S[0]=function(){try{return I.apply(this,arguments)}finally{D.isPeriodic||(typeof D.handleId=="number"?delete l[D.handleId]:D.handleId&&(D.handleId[Pe]=null))}};const B=Ye(e,S[0],D,u,E);if(!B)return B;const j=B.data.handleId;return typeof j=="number"?l[j]=B:j&&(j[Pe]=B),j&&j.ref&&j.unref&&typeof j.ref=="function"&&typeof j.unref=="function"&&(B.ref=j.ref.bind(j),B.unref=j.unref.bind(j)),typeof j=="number"||j?j:B}else return _.apply(t,S)}),i=he(t,o,_=>function(p,S){const D=S[0];let I;typeof D=="number"?I=l[D]:(I=D&&D[Pe],I||(I=D)),I&&typeof I.type=="string"?I.state!=="notScheduled"&&(I.cancelFn&&I.data.isPeriodic||I.runCount===0)&&(typeof D=="number"?delete l[D]:D&&(D[Pe]=null),I.zone.cancelTask(I)):_.apply(t,S)})}function fn(t,e){const{isBrowser:o,isMix:n}=e.getGlobalObjects();if(!o&&!n||!t.customElements||!("customElements"in t))return;const r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",r)}function dn(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:o,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:i,ZONE_SYMBOL_PREFIX:l}=e.getGlobalObjects();for(let E=0;E<o.length;E++){const _=o[E],p=_+i,S=_+r,D=l+p,I=l+S;n[_]={},n[_][i]=D,n[_][r]=I}const u=t.EventTarget;if(!(!u||!u.prototype))return e.patchEventTarget(t,e,[u&&u.prototype]),!0}function En(t,e){e.patchEventPrototype(t,e)}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()});Zone.__load_patch("timers",t=>{const e="set",o="clear";ye(t,e,o,"Timeout"),ye(t,e,o,"Interval"),ye(t,e,o,"Immediate")});Zone.__load_patch("requestAnimationFrame",t=>{ye(t,"request","cancel","AnimationFrame"),ye(t,"mozRequest","mozCancel","AnimationFrame"),ye(t,"webkitRequest","webkitCancel","AnimationFrame")});Zone.__load_patch("blocking",(t,e)=>{const o=["alert","prompt","confirm"];for(let n=0;n<o.length;n++){const r=o[n];he(t,r,(i,l,u)=>function(E,_){return e.current.run(i,t,_,u)})}});Zone.__load_patch("EventTarget",(t,e,o)=>{En(t,o),dn(t,o);const n=t.XMLHttpRequestEventTarget;n&&n.prototype&&o.patchEventTarget(t,o,[n.prototype])});Zone.__load_patch("MutationObserver",(t,e,o)=>{Re("MutationObserver"),Re("WebKitMutationObserver")});Zone.__load_patch("IntersectionObserver",(t,e,o)=>{Re("IntersectionObserver")});Zone.__load_patch("FileReader",(t,e,o)=>{Re("FileReader")});Zone.__load_patch("on_property",(t,e,o)=>{un(o,t)});Zone.__load_patch("customElements",(t,e,o)=>{fn(t,o)});Zone.__load_patch("XHR",(t,e)=>{E(t);const o=x("xhrTask"),n=x("xhrSync"),r=x("xhrListener"),i=x("xhrScheduled"),l=x("xhrURL"),u=x("xhrErrorBeforeScheduled");function E(_){const p=_.XMLHttpRequest;if(!p)return;const S=p.prototype;function D(y){return y[o]}let I=S[He],B=S[je];if(!I){const y=_.XMLHttpRequestEventTarget;if(y){const A=y.prototype;I=A[He],B=A[je]}}const j="readystatechange",J="scheduled";function q(y){const A=y.data,R=A.target;R[i]=!1,R[u]=!1;const ee=R[r];I||(I=R[He],B=R[je]),ee&&B.call(R,j,ee);const ie=R[r]=()=>{if(R.readyState===R.DONE)if(!A.aborted&&R[i]&&y.state===J){const W=R[e.__symbol__("loadfalse")];if(R.status!==0&&W&&W.length>0){const oe=y.invoke;y.invoke=function(){const ne=R[e.__symbol__("loadfalse")];for(let X=0;X<ne.length;X++)ne[X]===y&&ne.splice(X,1);!A.aborted&&y.state===J&&oe.call(y)},W.push(y)}else y.invoke()}else!A.aborted&&R[i]===!1&&(R[u]=!0)};return I.call(R,j,ie),R[o]||(R[o]=y),v.apply(R,A.args),R[i]=!0,y}function P(){}function T(y){const A=y.data;return A.aborted=!0,V.apply(A.target,A.args)}const K=he(S,"open",()=>function(y,A){return y[n]=A[2]==!1,y[l]=A[1],K.apply(y,A)}),F="XMLHttpRequest.send",z=x("fetchTaskAborting"),Z=x("fetchTaskScheduling"),v=he(S,"send",()=>function(y,A){if(e.current[Z]===!0||y[n])return v.apply(y,A);{const R={target:y,url:y[l],isPeriodic:!1,args:A,aborted:!1},ee=Ye(F,P,R,q,T);y&&y[u]===!0&&!R.aborted&&ee.state===J&&ee.invoke()}}),V=he(S,"abort",()=>function(y,A){const R=D(y);if(R&&typeof R.type=="string"){if(R.cancelFn==null||R.data&&R.data.aborted)return;R.zone.cancelTask(R)}else if(e.current[z]===!0)return V.apply(y,A)})}});Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&tn(t.navigator.geolocation,["getCurrentPosition","watchPosition"])});Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function o(n){return function(r){Ot(t,n).forEach(l=>{const u=t.PromiseRejectionEvent;if(u){const E=new u(n,{promise:r.promise,reason:r.rejection});l.invoke(E)}})}}t.PromiseRejectionEvent&&(e[x("unhandledPromiseRejectionHandler")]=o("unhandledrejection"),e[x("rejectionHandledHandler")]=o("rejectionhandled"))});Zone.__load_patch("queueMicrotask",(t,e,o)=>{hn(t,o)});class pn extends qt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qe extends pn{static makeCurrent(){Gt(new Qe)}onAndCancel(e,o,n){return e.addEventListener(o,n),()=>{e.removeEventListener(o,n)}}dispatchEvent(e,o){e.dispatchEvent(o)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,o){return o=o||this.getDefaultDocument(),o.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,o){return o==="window"?window:o==="document"?e:o==="body"?e.body:null}getBaseHref(e){const o=_n();return o==null?null:yn(o)}resetBaseElement(){ke=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wt(document.cookie,e)}}let ke=null;function _n(){return ke=ke||document.querySelector("base"),ke?ke.getAttribute("href"):null}function yn(t){return new URL(t,document.baseURI).pathname}let mn=(()=>{var t;class e{build(){return new XMLHttpRequest}}return t=e,t.ɵfac=function(n){return new(n||t)},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();const Ue=new pt("");let Mt=(()=>{var t;class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(l=>l.supports(n)),!r)throw new yt(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t=e,t.ɵfac=function(n){return new(n||t)(Q(Ue),Q(Me))},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();class It{constructor(e){this._doc=e}}const Fe="ng-app-id";let At=(()=>{var t;class e{constructor(n,r,i,l={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mt(l),this.resetHostNodes()}addStyles(n){for(const r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const l=i.get(n);return l.usage+=r,l.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,l=i?.get(r);if(l?.parentNode===n)return i.delete(r),l.removeAttribute(Fe),l;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(Fe,this.appId),n.appendChild(u),u}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),l=this.styleRef,u=l.get(r)?.elements;u?u.push(i):l.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t=e,t.ɵfac=function(n){return new(n||t)(Q(Ee),Q(vt),Q(gt,8),Q(Ne))},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g,Lt="%COMP%",gn=`_nghost-${Lt}`,Tn=`_ngcontent-${Lt}`,vn=!0,kn=new pt("",{providedIn:"root",factory:()=>vn});function wn(t){return Tn.replace(et,t)}function Sn(t){return gn.replace(et,t)}function Zt(t,e){return e.map(o=>o.replace(et,t))}let ht=(()=>{var t;class e{constructor(n,r,i,l,u,E,_,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=l,this.doc=u,this.platformId=E,this.ngZone=_,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=mt(E),this.defaultRenderer=new tt(n,u,_,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ce.ShadowDom&&(r={...r,encapsulation:Ce.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof dt?i.applyToHost(n):i instanceof Ge&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const u=this.doc,E=this.ngZone,_=this.eventManager,p=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(r.encapsulation){case Ce.Emulated:l=new dt(_,p,r,this.appId,S,u,E,D);break;case Ce.ShadowDom:return new Rn(_,p,n,r,u,E,this.nonce,D);default:l=new Ge(_,p,r,S,u,E,D);break}i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return t=e,t.ɵfac=function(n){return new(n||t)(Q(Mt),Q(At),Q(vt),Q(kn),Q(Ee),Q(Ne),Q(Me),Q(gt))},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();class tt{constructor(e,o,n,r){this.eventManager=e,this.doc=o,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,o){return o?this.doc.createElementNS(Be[o]||o,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,o){(ft(e)?e.content:e).appendChild(o)}insertBefore(e,o,n){e&&(ft(e)?e.content:e).insertBefore(o,n)}removeChild(e,o){e&&e.removeChild(o)}selectRootElement(e,o){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new yt(-5104,!1);return o||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,o,n,r){if(r){o=r+":"+o;const i=Be[r];i?e.setAttributeNS(i,o,n):e.setAttribute(o,n)}else e.setAttribute(o,n)}removeAttribute(e,o,n){if(n){const r=Be[n];r?e.removeAttributeNS(r,o):e.removeAttribute(`${n}:${o}`)}else e.removeAttribute(o)}addClass(e,o){e.classList.add(o)}removeClass(e,o){e.classList.remove(o)}setStyle(e,o,n,r){r&(De.DashCase|De.Important)?e.style.setProperty(o,n,r&De.Important?"important":""):e.style[o]=n}removeStyle(e,o,n){n&De.DashCase?e.style.removeProperty(o):e.style[o]=""}setProperty(e,o,n){e!=null&&(e[o]=n)}setValue(e,o){e.nodeValue=o}listen(e,o,n){if(typeof e=="string"&&(e=Tt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${o}`);return this.eventManager.addEventListener(e,o,this.decoratePreventDefault(n))}decoratePreventDefault(e){return o=>{if(o==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(o)):e(o))===!1&&o.preventDefault()}}}function ft(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}class Rn extends tt{constructor(e,o,n,r,i,l,u,E){super(e,i,l,E),this.sharedStylesHost=o,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Zt(r.id,r.styles);for(const p of _){const S=document.createElement("style");u&&S.setAttribute("nonce",u),S.textContent=p,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,o){return super.appendChild(this.nodeOrShadowRoot(e),o)}insertBefore(e,o,n){return super.insertBefore(this.nodeOrShadowRoot(e),o,n)}removeChild(e,o){return super.removeChild(this.nodeOrShadowRoot(e),o)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ge extends tt{constructor(e,o,n,r,i,l,u,E){super(e,i,l,u),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=r,this.styles=E?Zt(E,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dt extends Ge{constructor(e,o,n,r,i,l,u,E){const _=r+"-"+n.id;super(e,o,n,i,l,u,E,_),this.contentAttr=wn(_),this.hostAttr=Sn(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,o){const n=super.createElement(e,o);return super.setAttribute(n,this.contentAttr,""),n}}let bn=(()=>{var t;class e extends It{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t=e,t.ɵfac=function(n){return new(n||t)(Q(Ee))},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();const Et=["alt","control","meta","shift"],Cn={"\b":"Backspace","	":"Tab","":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dn={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Pn=(()=>{var t;class e extends It{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){const l=e.parseEventName(r),u=e.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tt().onAndCancel(n,l.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;const l=e._normalizeKey(r.pop());let u="",E=r.indexOf("code");if(E>-1&&(r.splice(E,1),u="code."),Et.forEach(p=>{const S=r.indexOf(p);S>-1&&(r.splice(S,1),u+=p+".")}),u+=l,r.length!=0||l.length===0)return null;const _={};return _.domEventName=i,_.fullKey=u,_}static matchEventFullKeyCode(n,r){let i=Cn[n.key]||n.key,l="";return r.indexOf("code.")>-1&&(i=n.code,l="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Et.forEach(u=>{if(u!==i){const E=Dn[u];E(n)&&(l+=u+".")}}),l+=i,l===r)}static eventCallback(n,r,i){return l=>{e.matchEventFullKeyCode(l,n)&&i.runGuarded(()=>r(l))}}static _normalizeKey(n){return n==="esc"?"escape":n}}return t=e,t.ɵfac=function(n){return new(n||t)(Q(Ee))},t.ɵprov=me({token:t,factory:t.ɵfac}),e})();function On(t){return jt(Nn(t))}function Nn(t){return{appProviders:[...Zn,...t?.providers??[]],platformProviders:Ln}}function Mn(){Qe.makeCurrent()}function In(){return new _t}function An(){return Xt(document),document}const Ln=[{provide:Ne,useValue:xt},{provide:Ft,useValue:Mn,multi:!0},{provide:Ee,useFactory:An,deps:[]}];const Zn=[{provide:Bt,useValue:"root"},{provide:_t,useFactory:In,deps:[]},{provide:Ue,useClass:bn,multi:!0,deps:[Ee,Me,Ne]},{provide:Ue,useClass:Pn,multi:!0,deps:[Ee]},ht,At,Mt,{provide:Vt,useExisting:ht},{provide:Ut,useClass:mn,deps:[]},[]],Fn=t=>(e,o,n)=>{On({providers:[...e.clientProviders||[]]}).then(r=>{r.injector.get(Me).run(()=>{const l=zt(e,{environmentInjector:r.injector,hostElement:t}),u=$t(e);if(o&&u)for(const[E,_]of Object.entries(o))u.inputs.some(({templateName:p,propName:S})=>p===E||S===E)&&l.setInput(E,_);if(u?.outputs.length&&o?.["data-analog-id"]){const E=new Kt;t.setAttribute("data-analog-id",o["data-analog-id"]),u.outputs.forEach(({templateName:_,propName:p})=>{const S=_||p;l.instance[S].pipe(Yt(E)).subscribe(I=>{const B=new CustomEvent(S,{bubbles:!0,cancelable:!0,composed:!0,detail:I});t.dispatchEvent(B)})}),r.onDestroy(()=>{E.next(),E.complete()})}r.attachView(l.hostView)})})};export{Fn as default};
